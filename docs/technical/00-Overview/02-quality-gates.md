# PTB-OVR-002 — استانداردهای کیفیت و گیت‌ها

## 1) گیت Local‑First (اجباری)
باید یک اسکن خودکار اجرا شود که هرگونه:
- `fetch(...)` به دامنه خارجی
- `navigator.sendBeacon(...)`
- `<script src="https://...">`
- `import('https://...')`
را در runtime ممنوع کند.

**استثنا** فقط در صورت:
- ثبت در لیست مجاز
- دسته‌بندی ابزار به Hybrid یا Online‑Required
- مصرف فقط از طریق دامنه خود پروژه (Proxy/DataHub) برای Hybrid

## 2) گیت Lighthouse (اجباری برای release)
حداقل معیارها باید به سمت این اهداف حرکت کند (پیشنهادی برای ۱۰/۱۰):
- Performance ≥ 0.92
- Accessibility ≥ 0.97
- Best Practices ≥ 0.98
- SEO ≥ 0.97

> هر افت نسبت به baseline باید با PR توضیح داده شود.

## 3) بودجه باندل (Bundle Budget)
- باندل اولیه (route اصلی) باید حداقل ممکن باشد.
- کتابخانه‌های سنگین (PDF, image processing, complex math) باید فقط در صفحات مربوطه lazy شوند.

## 4) اصول پیام‌رسانی در شرایط اختلال
- پیام‌ها کوتاه، دقیق، و بدون اغراق باشند.
- اگر داده stale است: تاریخ آخرین بروزرسانی نمایش داده شود.
- اگر سرویس لازم قطع است: دلیل کلی (اختلال اینترنت/تحریم) + راهکار (تلاش مجدد/آفلاین) بیان شود.
